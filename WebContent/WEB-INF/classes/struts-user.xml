<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
    <package name="user" namespace="/user" extends="default">
        <result-types>
            <result-type name="tiles"
                class="org.apache.struts2.views.tiles.TilesResult" />
        </result-types>

        <interceptors>
            <interceptor name="cacheInterceptor"
                class="com.ibm.opum.cacheInterceptor.action.CacheInterceptor" />
            <interceptor name="sessionInterceptor"
                class="com.ibm.opum.sessionInterceptor.action.SessionInterceptor" />
                <interceptor name="userInterceptor"
                class="com.ibm.opum.user.action.UserInterceptor" />
            <interceptor-stack name="cacheSessionStack">
                <interceptor-ref name="defaultStack" />
                <interceptor-ref name="userInterceptor" />
                <interceptor-ref name="cacheInterceptor" />
                <interceptor-ref name="sessionInterceptor" />
            </interceptor-stack>
        </interceptors>

        <default-interceptor-ref name="cacheSessionStack"></default-interceptor-ref>

        <global-results>
            <result name="login" type="redirect">../login/loginLink</result>
            <result name="admin" type="redirect">../admin/adminHomeLink</result>
        </global-results>

        <action name="userLink" method="home"
            class="com.ibm.opum.user.action.UserAction">
            <result name="userLink" type="tiles">userLink</result>
        </action>

        <action name="calendarLink" method="utilization"
            class="com.ibm.opum.user.action.UserAction">
            <result name="calendarLink" type="tiles">calendarLink
            </result>
        </action>

		<action name="leaveDraftLink" method="requestLeave"
            class="com.ibm.opum.user.action.UserAction">
            <result name="leaveDraftLink" type="tiles">calendarLink
            </result>
        </action>
        
        <action name="getCalendarLink" method="getCalendar"
            class="com.ibm.opum.calendar.GenerateCalendarAction">
            <result name="success" type="tiles">getCalendarLink</result>
        </action>

        <action name="saveUtilizatioLink" method="saveUtilization"
            class="com.ibm.opum.calendar.GenerateCalendarAction">
            <result name="success" type="tiles">saveUtilizationLink
            </result>
        </action>
        
        <action name="inputYearLink" method="inputYear"
            class="com.ibm.opum.user.action.UserAction">
            <result name="inputYearLink" type="tiles">inputYearLink
            </result>
        </action>
        
        <action name="showAllHolidaysLink" method="showAllHolidays"
            class="com.ibm.opum.user.action.UserAction">
            <result name="showAllHolidaysLink" type="tiles">showAllHolidaysLink
            </result>
        </action>
    </package>
</struts>